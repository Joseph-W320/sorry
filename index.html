<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿä¿®å¤è¯·æ±‚: ä¹–ä¹–ä¸“ç”¨</title>
    <style>
        body { background-color: #1a1a1a; margin: 0; padding: 20px; display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow: hidden; font-family: 'Microsoft YaHei', sans-serif; }
        #start-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #00ff00; cursor: pointer; text-align: center; }
        #display-window { width: 100%; max-width: 750px; }

        /* æ ¸å¿ƒåŠ¨ç”»ï¼šé€å­—å‡ºç° + å»¶æ—¶é€å­—å˜è‰² */
        .line-text {
            font-size: 24px; font-weight: bold; margin: 25px 0;
            display: block; position: relative;
            background: linear-gradient(to right, #ff69b4 33%, #00ff00 33%, #00ff00 66%, transparent 66%);
            background-size: 300% 100%;
            background-position: 100% 0; /* åˆå§‹å®Œå…¨é€æ˜ */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            white-space: nowrap; overflow: hidden;
        }

        /* å‡ºç°åŠ¨ç”»ï¼šèƒŒæ™¯ä» 100% ç§»åˆ° 66%ï¼Œéœ²å‡ºç»¿è‰²éƒ¨åˆ† */
        @keyframes showGreen {
            from { background-position: 100% 0; }
            to { background-position: 66.6% 0; }
        }

        /* å˜è‰²åŠ¨ç”»ï¼šèƒŒæ™¯ä» 66.6% ç§»åˆ° 0%ï¼Œç»¿è‰²å˜ç²‰è‰² */
        @keyframes turnPink {
            from { background-position: 66.6% 0; }
            to { background-position: 0% 0; }
        }

        .scene { display: none; }
        .active { display: block; }

        /* è¿›åº¦æ¡ç‰¹æ®Šæ ·å¼ */
        .progress-line { font-size: 26px; color: #00ff00; font-weight: bold; transition: color 2s; }
        .pink-text { color: #ff69b4 !important; }

        /* çˆ±å¿ƒä¸çŒ«å’ª */
        .heart-particle { position: fixed; top: -20px; color: #ff69b4; font-size: 24px; user-select: none; z-index: 1000; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(360deg); opacity: 0; } }
        .cat-box { text-align: center; }
        .cat-img { width: 250px; border-radius: 25px; box-shadow: 0 0 30px #ff69b4; margin-bottom: 25px; }
        .final-text { color: #ff69b4; font-size: 28px; font-weight: bold; line-height: 1.8; animation: beat 1.5s infinite; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); } }
    </style>
</head>
<body>

    <div id="start-overlay" onclick="initSystem()">
        <div style="font-size: 50px; margin-bottom: 20px;">ğŸ’–</div>
        <p style="font-size: 20px; letter-spacing: 2px;">æ£€æµ‹åˆ°é‡å¤§æƒ…æ„Ÿå¼‚å¸¸<br>ç‚¹å‡»ç¡®è®¤æ‰§è¡Œ[ä¹–ä¹–]ä¿®å¤åè®®</p>
    </div>

    <div id="display-window">
        <div id="scene1" class="scene"></div>
        <div id="scene2" class="scene"></div>
        <div id="scene3" class="scene"></div>
        <div id="scene4" class="scene cat-box">
            <img class="cat-img" src="cat.gif" alt="é“æ­‰çŒ«å’ª">
            <div class="final-text" id="final-msg"></div>
        </div>
    </div>

    <audio id="meow-sound" src="meow.mp3" loop preload="auto"></audio>

    <script>
        const audio = document.getElementById('meow-sound');
        
        function initSystem() {
            document.getElementById('start-overlay').style.display = 'none';
            // å¾®ä¿¡éŸ³é¢‘è‡ªåŠ¨æ’­æ”¾è¡¥ä¸
            if (window.WeixinJSBridge) {
                WeixinJSBridge.invoke('getNetworkType', {}, () => { audio.play(); audio.pause(); }, false);
            }
            startDrama();
        }

        // æ ¸å¿ƒæµç¨‹æ§åˆ¶
        async function runScene(sceneId, textArray) {
            const container = document.getElementById(sceneId);
            container.classList.add('active');
            
            for (let text of textArray) {
                const p = document.createElement('span');
                p.className = 'line-text';
                p.textContent = text;
                container.appendChild(p);

                // 1. é€å­—å‡ºç°ï¼ˆç»¿è‰²ï¼‰
                p.style.animation = "showGreen 2.5s linear forwards";
                await new Promise(r => setTimeout(r, 2500)); // ç­‰å¾…å‡ºç°å®Œ

                // 2. ç­‰å¾… 1.5 ç§’
                await new Promise(r => setTimeout(r, 1500));

                // 3. é€å­—å˜è‰²ï¼ˆå˜ç²‰ï¼‰
                p.style.animation = "turnPink 2.5s linear forwards";
                await new Promise(r => setTimeout(r, 2500)); // ç­‰å¾…å˜è‰²å®Œ

                // 4. ç­‰å¾… 1 ç§’å†å‡ºä¸‹ä¸€è¡Œ
                await new Promise(r => setTimeout(r, 1000));
            }
            
            await new Promise(r => setTimeout(r, 1000));
            container.classList.remove('active');
        }

        async function startProgress() {
            const container = document.getElementById('scene3');
            container.classList.add('active');
            const p = document.createElement('p');
            p.className = 'progress-line';
            container.appendChild(p);

            // 1%-100% æ»šåŠ¨
            for (let i = 1; i <= 100; i++) {
                p.textContent = `ç³»ç»Ÿä¿®å¤ä¸­... ${i}%`;
                await new Promise(r => setTimeout(r, 40));
            }
            
            // å˜è‰²é€»è¾‘ï¼šæ•´è¡Œå˜ç²‰
            p.classList.add('pink-text');
            const p2 = document.createElement('p');
            p2.className = 'progress-line pink-text';
            p2.textContent = "Bug å·²ä¿®å¤ï¼Œç³»ç»Ÿè¯·æ±‚é‡å¯ã€‚";
            container.appendChild(p2);
            
            await new Promise(r => setTimeout(r, 2500));
            container.classList.remove('active');
        }

        function createHearts() {
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.innerHTML = 'â¤';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 5000);
            }, 250);
        }

        async function startDrama() {
            // ç¬¬ä¸€ç”»é¢
            await runScene('scene1', [
                "æ­£åœ¨å»ºç«‹ä¸ [ä¹–ä¹–] çš„é€šä¿¡è¿æ¥... æˆåŠŸ",
                "æ­£åœ¨è‡ªæ£€æƒ…ç»ªæ§åˆ¶ç³»ç»Ÿ... å‘ç°ä¸¥é‡é”™è¯¯ (Error 404)",
                "æ­£åœ¨åŠ è½½â€œæ±‚åŸè°…â€åè®® v1.0..."
            ]);

            // ç¬¬äºŒç”»é¢
            await runScene('scene2', [
                "> git commit -m 'ä¿®å¤ï¼šå¿½ç•¥äº†ä¹–ä¹–çš„æƒ³æ³•å’Œæ„Ÿå—'",
                "> git commit -m 'æ›´æ–°ï¼šå°†å°å…®å¤§äººçš„å¿ƒæƒ…ä¼˜å…ˆçº§è®¾ä¸ºæœ€é«˜ (Highest)'",
                "> git commit -m 'é‡æ„ï¼šä¼˜åŒ–æ²Ÿé€šæ¨¡å¼ï¼Œå¢åŠ  1000% çš„ä½“è´´'",
                "> git push -f origin æ°¸è¿œåœ¨ä¸€èµ·"
            ]);

            // ç¬¬ä¸‰ç”»é¢
            await startProgress();

            // æœ€ç»ˆç”»é¢
            audio.play();
            document.getElementById('scene4').classList.add('active');
            createHearts();
            document.getElementById('final-msg').innerHTML = "å°å…®å¤§äººï¼Œä½ æ„¿æ„ç»™è¿™ä¸ªç¬¨è›‹<br>ä¸€ä¸ªé‡æ–°è¿è¡Œçš„æœºä¼šå—ï¼Ÿå–µ~";
        }
    </script>
</body>
</html>
